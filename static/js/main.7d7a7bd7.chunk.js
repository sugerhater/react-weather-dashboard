(this["webpackJsonpreact-weather-dashboard"]=this["webpackJsonpreact-weather-dashboard"]||[]).push([[0],{38:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(16),r=c.n(n),s=c(21),i=c(2),o=c(0),d=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{class:"row bg-dark text-light text-center",children:Object(o.jsx)("div",{class:"col-12",children:Object(o.jsx)("h1",{children:"Weather Dashboard"})})})})},j=c(4),l=c(8),b=c.n(l),u=c(11),h=c(10),p="SET_CITY",O="SET_COORD",x=Object(a.createContext)({cityInfo:{},city:"",coord:{lat:0,lon:0}}),m=x.Provider,f=function(e,t){var c=t.type,a=t.payload;switch(c){case"SET_CITY_WEATHER":return console.log("setting recipe",a),Object(h.a)(Object(h.a)({},e),{},{cityInfo:a});case p:return console.log("setting city",a),Object(h.a)(Object(h.a)({},e),{},{city:a});case O:return console.log("setting coord",a),Object(h.a)(Object(h.a)({},e),{},{coord:a});default:return e}},y=function(e){var t=e.children,c=Object(a.useReducer)(f,{cityInfo:{},city:"Columbus"}),n=Object(j.a)(c,2),r=n[0],s=n[1];return Object(o.jsx)(m,{value:[r,s],children:t})},v=function(){return Object(a.useContext)(x)},g=function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=89e03da76afa1f1ca74f57becbb1ae3d"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},w=function(e,t){return fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current&appid=89e03da76afa1f1ca74f57becbb1ae3d"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return console.log(e.daily),e.daily}))},D=function(e){return console.log(e),Object(o.jsx)("div",{class:" float-left pl-3",children:Object(o.jsx)("div",{class:"card pl-3 pt-3 mb-3 bg-primary text-light",style:{width:"12rem"},children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{children:e.date}),Object(o.jsx)("p",{children:Object(o.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(e.icon,".png")})}),Object(o.jsxs)("p",{children:["Temp: ",(9*e.temp/5-459.67).toFixed(1)," \xb0F"]}),Object(o.jsxs)("p",{children:["humidity: ",e.humidity,"% "]})]})})})},M=c(12),T=c.n(M),E=function(){var e=v(),t=Object(j.a)(e,1)[0].coord,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],s=n[1];console.log(t);var i=function(){var e=Object(u.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.lat,t.lon);case 2:return c=e.sent,console.log(c),e.next=6,s(c.splice(1,5));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=[T()().add(1,"day").format("MM/DD"),T()().add(2,"day").format("MM/DD"),T()().add(3,"day").format("MM/DD"),T()().add(4,"day").format("MM/DD"),T()().add(5,"day").format("MM/DD")];console.log(d),Object(a.useEffect)((function(){i()}),[t]);return r[0]?[0,1,2,3,4].map((function(e){return Object(o.jsx)(D,{humidity:r[e].humidity,date:d[e],icon:r[e].weather[0].icon,temp:r[e].temp.day})})):Object(o.jsx)("div",{children:"loading"})},N=function(){var e=Object(a.useRef)(),t=v(),c=Object(j.a)(t,2),n=(c[0],c[1]),r=function(){var t=Object(u.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),n({type:p,payload:e.current.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{id:"search-bar",class:"col-12 bg-primary ml-auto",children:[Object(o.jsxs)("form",{onSubmit:r,children:[Object(o.jsx)("label",{for:"city-input",children:"Search for a City:"}),Object(o.jsx)("input",{class:"col-6",id:"city-input",type:"text",ref:e}),Object(o.jsx)("button",{className:"btn btn-secondary ",type:"submit",value:"search",children:" Search"})]}),Object(o.jsx)("div",{id:"city-list"})]})},S=function(){var e=v(),t=Object(j.a)(e,1)[0].city,c=v(),n=Object(j.a)(c,2),r=(n[0],n[1]),s=Object(a.useState)({}),i=Object(j.a)(s,2),d=i[0],l=i[1],h=function(){var e=Object(u.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return c=e.sent,l(c),console.log(c.coord),e.next=7,r({type:O,payload:c.coord});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h()}),[t]),d.name?Object(o.jsx)("div",{class:"card pl-3 pt-3 mb-3 bg-primary text-light mr-auto",style:{width:"26rem"},children:Object(o.jsxs)("div",{class:"card-body",children:[Object(o.jsxs)("h1",{class:"city",children:[d.name," Today"]}),Object(o.jsxs)("div",{class:"city",children:["Humidity ",d.main.humidity,"%"]}),Object(o.jsx)("div",{class:"temp",children:"Temperature:\n              ".concat((9*d.main.temp_min/5-459.67).toFixed(1),"F /\n              ").concat((9*d.main.temp_max/5-459.67).toFixed(1),"F")}),Object(o.jsx)("div",{class:"weather",children:Object(o.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(d.weather[0].icon,".png")})}),Object(o.jsx)("div",{class:"wind",children:"Wind Speed: ".concat((2.236*d.wind.speed).toFixed(1)," MPH ")}),Object(o.jsx)("div",{class:"UV"})]})}):Object(o.jsx)("div",{class:"card pl-3 pt-3 mb-3 bg-primary text-light",children:Object(o.jsxs)("div",{class:"card-body",children:[Object(o.jsx)("div",{class:"city"}),Object(o.jsx)("div",{class:"weather"}),Object(o.jsx)("div",{class:"humidity"}),Object(o.jsx)("div",{class:"wind"}),Object(o.jsx)("div",{class:"UV"})]})})},F=function(){var e=v();return Object(j.a)(e,1)[0].coord?Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(d,{}),Object(o.jsxs)("div",{className:"row mx-auto",children:[Object(o.jsx)("div",{className:"col-4",children:Object(o.jsx)(N,{})}),Object(o.jsxs)("div",{className:"col-8",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h2",{className:"pl-3",children:" 5 Days Forecast"}),Object(o.jsx)(E,{})]})]})]}):Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(d,{}),Object(o.jsxs)("div",{className:"row mx-auto",children:[Object(o.jsx)(N,{}),Object(o.jsx)(S,{})]})]})},C=function(){return Object(o.jsx)(s.a,{children:Object(o.jsxs)(y,{children:[Object(o.jsx)(i.a,{exact:!0,path:"/",component:F}),Object(o.jsx)(i.a,{exact:!0,path:"/react-weather-dashboard",component:F})]})})};c(34),c(35);r.a.render(Object(o.jsx)(C,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7d7a7bd7.chunk.js.map